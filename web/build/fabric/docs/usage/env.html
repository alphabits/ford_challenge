

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The environment dictionary, env &mdash; Ford challenge v1.0 documentation</title>
    <link rel="stylesheet" href="../../../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <link rel="top" title="Ford challenge v1.0 documentation" href="../../../../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../../index.html">Ford challenge v1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">The environment dictionary, <tt class="docutils literal"><span class="pre">env</span></tt></a><ul>
<li><a class="reference internal" href="#environment-as-configuration">Environment as configuration</a><ul>
<li><a class="reference internal" href="#the-fabric-context-managers-settings-context-manager">The <cite>~fabric.context_managers.settings</cite> context manager</a></li>
</ul>
</li>
<li><a class="reference internal" href="#environment-as-shared-state">Environment as shared state</a></li>
<li><a class="reference internal" href="#other-considerations">Other considerations</a></li>
<li><a class="reference internal" href="#full-list-of-env-vars">Full list of env vars</a><ul>
<li><a class="reference internal" href="#all-hosts"><tt class="docutils literal"><span class="pre">all_hosts</span></tt></a></li>
<li><a class="reference internal" href="#always-use-pty"><tt class="docutils literal"><span class="pre">always_use_pty</span></tt></a></li>
<li><a class="reference internal" href="#combine-stderr"><tt class="docutils literal"><span class="pre">combine_stderr</span></tt></a></li>
<li><a class="reference internal" href="#command"><tt class="docutils literal"><span class="pre">command</span></tt></a></li>
<li><a class="reference internal" href="#command-prefixes"><tt class="docutils literal"><span class="pre">command_prefixes</span></tt></a></li>
<li><a class="reference internal" href="#cwd"><tt class="docutils literal"><span class="pre">cwd</span></tt></a></li>
<li><a class="reference internal" href="#disable-known-hosts"><tt class="docutils literal"><span class="pre">disable_known_hosts</span></tt></a></li>
<li><a class="reference internal" href="#fabfile"><tt class="docutils literal"><span class="pre">fabfile</span></tt></a></li>
<li><a class="reference internal" href="#host-string"><tt class="docutils literal"><span class="pre">host_string</span></tt></a></li>
<li><a class="reference internal" href="#host"><tt class="docutils literal"><span class="pre">host</span></tt></a></li>
<li><a class="reference internal" href="#hosts"><tt class="docutils literal"><span class="pre">hosts</span></tt></a></li>
<li><a class="reference internal" href="#key-filename"><tt class="docutils literal"><span class="pre">key_filename</span></tt></a></li>
<li><a class="reference internal" href="#local-user"><tt class="docutils literal"><span class="pre">local_user</span></tt></a></li>
<li><a class="reference internal" href="#no-agent"><tt class="docutils literal"><span class="pre">no_agent</span></tt></a></li>
<li><a class="reference internal" href="#no-keys"><tt class="docutils literal"><span class="pre">no_keys</span></tt></a></li>
<li><a class="reference internal" href="#password"><tt class="docutils literal"><span class="pre">password</span></tt></a></li>
<li><a class="reference internal" href="#passwords"><tt class="docutils literal"><span class="pre">passwords</span></tt></a></li>
<li><a class="reference internal" href="#path"><tt class="docutils literal"><span class="pre">path</span></tt></a></li>
<li><a class="reference internal" href="#port"><tt class="docutils literal"><span class="pre">port</span></tt></a></li>
<li><a class="reference internal" href="#real-fabfile"><tt class="docutils literal"><span class="pre">real_fabfile</span></tt></a></li>
<li><a class="reference internal" href="#rcfile"><tt class="docutils literal"><span class="pre">rcfile</span></tt></a></li>
<li><a class="reference internal" href="#reject-unknown-hosts"><tt class="docutils literal"><span class="pre">reject_unknown_hosts</span></tt></a></li>
<li><a class="reference internal" href="#roledefs"><tt class="docutils literal"><span class="pre">roledefs</span></tt></a></li>
<li><a class="reference internal" href="#roles"><tt class="docutils literal"><span class="pre">roles</span></tt></a></li>
<li><a class="reference internal" href="#shell"><tt class="docutils literal"><span class="pre">shell</span></tt></a></li>
<li><a class="reference internal" href="#sudo-prompt"><tt class="docutils literal"><span class="pre">sudo_prompt</span></tt></a></li>
<li><a class="reference internal" href="#use-shell"><tt class="docutils literal"><span class="pre">use_shell</span></tt></a></li>
<li><a class="reference internal" href="#user"><tt class="docutils literal"><span class="pre">user</span></tt></a></li>
<li><a class="reference internal" href="#version"><tt class="docutils literal"><span class="pre">version</span></tt></a></li>
<li><a class="reference internal" href="#warn-only"><tt class="docutils literal"><span class="pre">warn_only</span></tt></a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../../../_sources/build/fabric/docs/usage/env.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="the-environment-dictionary-env">
<h1>The environment dictionary, <tt class="docutils literal"><span class="pre">env</span></tt><a class="headerlink" href="#the-environment-dictionary-env" title="Permalink to this headline">¶</a></h1>
<p>A simple but integral aspect of Fabric is what is known as the &#8220;environment&#8221;: a
Python dictionary subclass which is used as a combination settings registry and
shared inter-task data namespace.</p>
<p>The environment dict is currently implemented as a global singleton,
<tt class="docutils literal"><span class="pre">fabric.state.env</span></tt>, and is included in <tt class="docutils literal"><span class="pre">fabric.api</span></tt> for convenience. Keys
in <tt class="docutils literal"><span class="pre">env</span></tt> are sometimes referred to as &#8220;env variables&#8221;.</p>
<div class="section" id="environment-as-configuration">
<h2>Environment as configuration<a class="headerlink" href="#environment-as-configuration" title="Permalink to this headline">¶</a></h2>
<p>Most of Fabric&#8217;s behavior is controllable by modifying env variables, such as
<tt class="docutils literal"><span class="pre">env.hosts</span></tt> (as seen in <a class="reference internal" href="../tutorial.html#defining-connections"><em>the tutorial</em></a>). Other
commonly-modified env vars include:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">user</span></tt>: Fabric defaults to your local username when making SSH connections,
but you can use <tt class="docutils literal"><span class="pre">env.user</span></tt> to override this if necessary. The <a class="reference internal" href="execution.html"><em>Execution model</em></a>
documentation also has info on how to specify usernames on a per-host basis.</li>
<li><tt class="docutils literal"><span class="pre">password</span></tt>: Used to explicitly set your default connection or sudo password
if desired. Fabric will prompt you when necessary if this isn&#8217;t set or
doesn&#8217;t appear to be valid.</li>
<li><tt class="docutils literal"><span class="pre">warn_only</span></tt>: a Boolean setting determining whether Fabric exits when
detecting errors on the remote end. See <a class="reference internal" href="execution.html"><em>Execution model</em></a> for more on this
behavior.</li>
</ul>
<p>There are a number of other env variables; for the full list, see
<a class="reference internal" href="#env-vars"><em>Full list of env vars</em></a> at the bottom of this document.</p>
<div class="section" id="the-fabric-context-managers-settings-context-manager">
<h3>The <cite>~fabric.context_managers.settings</cite> context manager<a class="headerlink" href="#the-fabric-context-managers-settings-context-manager" title="Permalink to this headline">¶</a></h3>
<p>In many situations, it&#8217;s useful to only temporarily modify <tt class="docutils literal"><span class="pre">env</span></tt> vars so that
a given settings change only applies to a block of code. Fabric provides a
<cite>~fabric.context_managers.settings</cite> context manager, which takes any numbr of
key/value pairs and will use them to modify <tt class="docutils literal"><span class="pre">env</span></tt> within its wrapped block.</p>
<p>For example, there are many situations where setting <tt class="docutils literal"><span class="pre">warn_only</span></tt> (see below)
is useful. To apply it to a few lines of code, use
<tt class="docutils literal"><span class="pre">settings(warn_only=True)</span></tt>, as seen in this simplified version of the
<tt class="docutils literal"><span class="pre">contrib</span></tt> <cite>~fabric.contrib.files.exists</cite> function:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">fabric.api</span> <span class="kn">import</span> <span class="n">settings</span><span class="p">,</span> <span class="n">run</span>

<span class="k">def</span> <span class="nf">exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">settings</span><span class="p">(</span><span class="n">warn_only</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">run</span><span class="p">(</span><span class="s">&#39;test -e </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">path</span><span class="p">)</span>
</pre></div>
</div>
<p>See the <a class="reference internal" href="../api/core/context_managers.html"><em>Context Managers</em></a> API documentation for details on
<cite>~fabric.context_managers.settings</cite> and other, similar tools.</p>
</div>
</div>
<div class="section" id="environment-as-shared-state">
<h2>Environment as shared state<a class="headerlink" href="#environment-as-shared-state" title="Permalink to this headline">¶</a></h2>
<p>As mentioned, the <tt class="docutils literal"><span class="pre">env</span></tt> object is simply a dictionary subclass, so your own
fabfile code may store information in it as well. This is sometimes useful for
keeping state between multiple tasks within a single execution run.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>This aspect of <tt class="docutils literal"><span class="pre">env</span></tt> is largely historical: in the past, fabfiles were
not pure Python and thus the environment was the only way to communicate
between tasks. Nowadays, you may call other tasks or subroutines directly,
and even keep module-level shared state if you wish.</p>
<p class="last">In future versions, Fabric will become threadsafe, at which point <tt class="docutils literal"><span class="pre">env</span></tt>
may be the only easy/safe way to keep global state.</p>
</div>
</div>
<div class="section" id="other-considerations">
<h2>Other considerations<a class="headerlink" href="#other-considerations" title="Permalink to this headline">¶</a></h2>
<p>While it subclasses <tt class="docutils literal"><span class="pre">dict</span></tt>, Fabric&#8217;s <tt class="docutils literal"><span class="pre">env</span></tt> has been modified so that its
values may be read/written by way of attribute access, as seen in some of the
above material. In other words, <tt class="docutils literal"><span class="pre">env.host_string</span></tt> and <tt class="docutils literal"><span class="pre">env['host_string']</span></tt>
are functionally identical. We feel that attribute access can often save a bit
of typing and makes the code more readable, so it&#8217;s the recommended way to
interact with <tt class="docutils literal"><span class="pre">env</span></tt>.</p>
<p>The fact that it&#8217;s a dictionary can be useful in other ways, such as with
Python&#8217;s dict-based string interpolation, which is especially handy if you need
to insert multiple env vars into a single string. Using &#8220;normal&#8221; string
interpolation might look like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span><span class="p">(</span><span class="s">&quot;Executing on </span><span class="si">%s</span><span class="s"> as </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">env</span><span class="o">.</span><span class="n">host</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">user</span><span class="p">))</span>
</pre></div>
</div>
<p>Using dict-style interpolation is more readable and slightly shorter:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span><span class="p">(</span><span class="s">&quot;Executing on </span><span class="si">%(host)s</span><span class="s"> as </span><span class="si">%(user)s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">env</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="full-list-of-env-vars">
<span id="env-vars"></span><h2>Full list of env vars<a class="headerlink" href="#full-list-of-env-vars" title="Permalink to this headline">¶</a></h2>
<p>Below is a list of all predefined (or defined by Fabric itself during
execution) environment variables. While any of them may be manipulated
directly, it&#8217;s often best to use <cite>~fabric.context_managers</cite>, either generally
via <cite>~fabric.context_managers.settings</cite> or via specific context managers such
as <cite>~fabric.context_managers.cd</cite>.</p>
<p>Note that many of these may be set via <tt class="docutils literal"><span class="pre">fab</span></tt>&#8216;s command-line switches &#8211; see
<a class="reference internal" href="fab.html"><em>fab options and arguments</em></a> for details. Cross-links will be provided where appropriate.</p>
<div class="section" id="all-hosts">
<h3><tt class="docutils literal"><span class="pre">all_hosts</span></tt><a class="headerlink" href="#all-hosts" title="Permalink to this headline">¶</a></h3>
<p><strong>Default:</strong> <tt class="xref docutils literal"><span class="pre">None</span></tt></p>
<p>Set by <tt class="docutils literal"><span class="pre">fab</span></tt> to the full host list for the currently executing command. For
informational purposes only.</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="execution.html"><em>Execution model</em></a></p>
</div>
</div>
<div class="section" id="always-use-pty">
<span id="id1"></span><h3><tt class="docutils literal"><span class="pre">always_use_pty</span></tt><a class="headerlink" href="#always-use-pty" title="Permalink to this headline">¶</a></h3>
<p><strong>Default:</strong> <tt class="xref docutils literal"><span class="pre">True</span></tt></p>
<p>When set to <tt class="xref docutils literal"><span class="pre">False</span></tt>, causes <cite>~fabric.operations.run</cite>/<cite>~fabric.operations.sudo</cite>
to act as if they have been called with <tt class="docutils literal"><span class="pre">pty=False</span></tt>.</p>
<p>The command-line flag <a class="reference internal" href="fab.html#cmdoption--no-pty"><em class="xref std std-option">--no-pty</em></a>, if given, will set this env var to
<tt class="xref docutils literal"><span class="pre">False</span></tt>.</p>
<p class="versionadded">
<span class="versionmodified">New in version 1.0.</span></p>
</div>
<div class="section" id="combine-stderr">
<span id="id2"></span><h3><tt class="docutils literal"><span class="pre">combine_stderr</span></tt><a class="headerlink" href="#combine-stderr" title="Permalink to this headline">¶</a></h3>
<p><strong>Default</strong>: <tt class="xref docutils literal"><span class="pre">True</span></tt></p>
<p>Causes the SSH layer to merge a remote program&#8217;s stdout and stderr streams to
avoid becoming meshed together when printed. See <a class="reference internal" href="interactivity.html#combine-streams"><em>Combining stdout and stderr</em></a> for
details on why this is needed and what its effects are.</p>
<p class="versionadded">
<span class="versionmodified">New in version 1.0.</span></p>
</div>
<div class="section" id="command">
<h3><tt class="docutils literal"><span class="pre">command</span></tt><a class="headerlink" href="#command" title="Permalink to this headline">¶</a></h3>
<p><strong>Default:</strong> <tt class="xref docutils literal"><span class="pre">None</span></tt></p>
<p>Set by <tt class="docutils literal"><span class="pre">fab</span></tt> to the currently executing command name (e.g. when executed as
<tt class="docutils literal"><span class="pre">$</span> <span class="pre">fab</span> <span class="pre">task1</span> <span class="pre">task2</span></tt>, <tt class="docutils literal"><span class="pre">env.command</span></tt> will be set to <tt class="docutils literal"><span class="pre">&quot;task1&quot;</span></tt> while
<tt class="docutils literal"><span class="pre">task1</span></tt> is executing, and then to <tt class="docutils literal"><span class="pre">&quot;task2&quot;</span></tt>.) For informational purposes
only.</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="execution.html"><em>Execution model</em></a></p>
</div>
</div>
<div class="section" id="command-prefixes">
<h3><tt class="docutils literal"><span class="pre">command_prefixes</span></tt><a class="headerlink" href="#command-prefixes" title="Permalink to this headline">¶</a></h3>
<p><strong>Default:</strong> <tt class="docutils literal"><span class="pre">[]</span></tt></p>
<p>Modified by <cite>~fabric.context_managers.prefix</cite>, and prepended to commands
executed by <cite>~fabric.operations.run</cite>/<cite>~fabric.operations.sudo</cite>.</p>
<p class="versionadded">
<span class="versionmodified">New in version 1.0.</span></p>
</div>
<div class="section" id="cwd">
<h3><tt class="docutils literal"><span class="pre">cwd</span></tt><a class="headerlink" href="#cwd" title="Permalink to this headline">¶</a></h3>
<p><strong>Default:</strong> <tt class="docutils literal"><span class="pre">''</span></tt></p>
<p>Current working directory. Used to keep state for the
<cite>~fabric.context_managers.cd</cite> context manager.</p>
</div>
<div class="section" id="disable-known-hosts">
<span id="id3"></span><h3><tt class="docutils literal"><span class="pre">disable_known_hosts</span></tt><a class="headerlink" href="#disable-known-hosts" title="Permalink to this headline">¶</a></h3>
<p><strong>Default:</strong> <tt class="xref docutils literal"><span class="pre">False</span></tt></p>
<p>If <tt class="xref docutils literal"><span class="pre">True</span></tt>, the SSH layer will skip loading the user&#8217;s known-hosts file.
Useful for avoiding exceptions in situations where a &#8220;known host&#8221; changing its
host key is actually valid (e.g. cloud servers such as EC2.)</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="ssh.html"><em>SSH behavior</em></a></p>
</div>
</div>
<div class="section" id="fabfile">
<h3><tt class="docutils literal"><span class="pre">fabfile</span></tt><a class="headerlink" href="#fabfile" title="Permalink to this headline">¶</a></h3>
<p><strong>Default:</strong> <tt class="docutils literal"><span class="pre">fabfile.py</span></tt></p>
<p>Filename which <tt class="docutils literal"><span class="pre">fab</span></tt> searches for when loading fabfiles. Obviously, it
doesn&#8217;t make sense to set this in a fabfile, but it may be specified in a
<tt class="docutils literal"><span class="pre">.fabricrc</span></tt> file or on the command line.</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="fab.html"><em>fab options and arguments</em></a></p>
</div>
</div>
<div class="section" id="host-string">
<span id="id4"></span><h3><tt class="docutils literal"><span class="pre">host_string</span></tt><a class="headerlink" href="#host-string" title="Permalink to this headline">¶</a></h3>
<p><strong>Default:</strong> <tt class="xref docutils literal"><span class="pre">None</span></tt></p>
<p>Defines the current user/host/port which Fabric will connect to when executing
<cite>~fabric.operations.run</cite>, <cite>~fabric.operations.put</cite> and so forth. This is set by
<tt class="docutils literal"><span class="pre">fab</span></tt> when iterating over a previously set host list, and may also be
manually set when using Fabric as a library.</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="execution.html"><em>Execution model</em></a></p>
</div>
</div>
<div class="section" id="host">
<h3><tt class="docutils literal"><span class="pre">host</span></tt><a class="headerlink" href="#host" title="Permalink to this headline">¶</a></h3>
<p><strong>Default:</strong> <tt class="xref docutils literal"><span class="pre">None</span></tt></p>
<p>Set to the hostname part of <tt class="docutils literal"><span class="pre">env.host_string</span></tt> by <tt class="docutils literal"><span class="pre">fab</span></tt>. For informational
purposes only.</p>
</div>
<div class="section" id="hosts">
<span id="id5"></span><h3><tt class="docutils literal"><span class="pre">hosts</span></tt><a class="headerlink" href="#hosts" title="Permalink to this headline">¶</a></h3>
<p><strong>Default:</strong> <tt class="docutils literal"><span class="pre">[]</span></tt></p>
<p>The global host list used when composing per-task host lists.</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="execution.html"><em>Execution model</em></a></p>
</div>
</div>
<div class="section" id="key-filename">
<span id="id6"></span><h3><tt class="docutils literal"><span class="pre">key_filename</span></tt><a class="headerlink" href="#key-filename" title="Permalink to this headline">¶</a></h3>
<p><strong>Default:</strong> <tt class="xref docutils literal"><span class="pre">None</span></tt></p>
<p>May be a string or list of strings, referencing file paths to SSH key files to
try when connecting. Passed through directly to the SSH layer. May be
set/appended to with <a class="reference internal" href="fab.html#cmdoption-i"><em class="xref std std-option">-i</em></a>.</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="http://www.lag.net/paramiko/docs/paramiko.SSHClient-class.html#connect">Paramiko&#8217;s documentation for SSHClient.connect()</a></p>
</div>
</div>
<div class="section" id="local-user">
<span id="id7"></span><h3><tt class="docutils literal"><span class="pre">local_user</span></tt><a class="headerlink" href="#local-user" title="Permalink to this headline">¶</a></h3>
<p>A read-only value containing the local system username. This is the same value
as <a class="reference internal" href="#user"><em>user</em></a>&#8216;s initial value, but whereas <a class="reference internal" href="#user"><em>user</em></a> may be altered by CLI
arguments, Python code or specific host strings, <a class="reference internal" href="#local-user"><em>local_user</em></a> will always
contain the same value.</p>
</div>
<div class="section" id="no-agent">
<span id="id8"></span><h3><tt class="docutils literal"><span class="pre">no_agent</span></tt><a class="headerlink" href="#no-agent" title="Permalink to this headline">¶</a></h3>
<p><strong>Default:</strong> <tt class="xref docutils literal"><span class="pre">False</span></tt></p>
<p>If <tt class="xref docutils literal"><span class="pre">True</span></tt>, will tell Paramiko not to seek out running SSH agents when using
key-based authentication.</p>
<p class="versionadded">
<span class="versionmodified">New in version 0.9.1.</span></p>
</div>
<div class="section" id="no-keys">
<span id="id9"></span><h3><tt class="docutils literal"><span class="pre">no_keys</span></tt><a class="headerlink" href="#no-keys" title="Permalink to this headline">¶</a></h3>
<p><strong>Default:</strong> <tt class="xref docutils literal"><span class="pre">False</span></tt></p>
<p>If <tt class="xref docutils literal"><span class="pre">True</span></tt>, will tell Paramiko not to load any private key files from one&#8217;s
<tt class="docutils literal"><span class="pre">$HOME/.ssh/</span></tt> folder. (Key files explicitly loaded via <tt class="docutils literal"><span class="pre">fab</span> <span class="pre">-i</span></tt> will still
be used, of course.)</p>
<p class="versionadded">
<span class="versionmodified">New in version 0.9.1.</span></p>
</div>
<div class="section" id="password">
<span id="id10"></span><h3><tt class="docutils literal"><span class="pre">password</span></tt><a class="headerlink" href="#password" title="Permalink to this headline">¶</a></h3>
<p><strong>Default:</strong> <tt class="xref docutils literal"><span class="pre">None</span></tt></p>
<p>The default password used by the SSH layer when connecting to remote hosts,
<strong>and/or</strong> when answering <cite>~fabric.operations.sudo</cite> prompts.</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#passwords"><em>passwords</em></a></p>
</div>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="execution.html#password-management"><em>Password management</em></a></p>
</div>
</div>
<div class="section" id="passwords">
<span id="id11"></span><h3><tt class="docutils literal"><span class="pre">passwords</span></tt><a class="headerlink" href="#passwords" title="Permalink to this headline">¶</a></h3>
<p><strong>Default:</strong> <tt class="docutils literal"><span class="pre">{}</span></tt></p>
<p>This dictionary is largely for internal use, and is filled automatically as a
per-host-string password cache. Keys are full <a class="reference internal" href="execution.html#host-strings"><em>host strings</em></a> and values are passwords (strings).</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="execution.html#password-management"><em>Password management</em></a></p>
</div>
<p class="versionadded">
<span class="versionmodified">New in version 1.0.</span></p>
</div>
<div class="section" id="path">
<span id="env-path"></span><h3><tt class="docutils literal"><span class="pre">path</span></tt><a class="headerlink" href="#path" title="Permalink to this headline">¶</a></h3>
<p><strong>Default:</strong> <tt class="docutils literal"><span class="pre">''</span></tt></p>
<p>Used to set the remote <tt class="docutils literal"><span class="pre">$PATH</span></tt> when executing commands in
<cite>~fabric.operations.run</cite>/<cite>~fabric.operations.sudo</cite>. It is recommended to use
the <cite>~fabric.context_managers.path</cite> context manager for managing this value
instead of setting it directly.</p>
<p class="versionadded">
<span class="versionmodified">New in version 1.0.</span></p>
</div>
<div class="section" id="port">
<h3><tt class="docutils literal"><span class="pre">port</span></tt><a class="headerlink" href="#port" title="Permalink to this headline">¶</a></h3>
<p><strong>Default:</strong> <tt class="xref docutils literal"><span class="pre">None</span></tt></p>
<p>Set to the port part of <tt class="docutils literal"><span class="pre">env.host_string</span></tt> by <tt class="docutils literal"><span class="pre">fab</span></tt> when iterating over a
host list. For informational purposes only.</p>
</div>
<div class="section" id="real-fabfile">
<h3><tt class="docutils literal"><span class="pre">real_fabfile</span></tt><a class="headerlink" href="#real-fabfile" title="Permalink to this headline">¶</a></h3>
<p><strong>Default:</strong> <tt class="xref docutils literal"><span class="pre">None</span></tt></p>
<p>Set by <tt class="docutils literal"><span class="pre">fab</span></tt> with the path to the fabfile it has loaded up, if it got that
far. For informational purposes only.</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="fab.html"><em>fab options and arguments</em></a></p>
</div>
</div>
<div class="section" id="rcfile">
<span id="id12"></span><h3><tt class="docutils literal"><span class="pre">rcfile</span></tt><a class="headerlink" href="#rcfile" title="Permalink to this headline">¶</a></h3>
<p><strong>Default:</strong> <tt class="docutils literal"><span class="pre">$HOME/.fabricrc</span></tt></p>
<p>Path used when loading Fabric&#8217;s local settings file.</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="fab.html"><em>fab options and arguments</em></a></p>
</div>
</div>
<div class="section" id="reject-unknown-hosts">
<span id="id13"></span><h3><tt class="docutils literal"><span class="pre">reject_unknown_hosts</span></tt><a class="headerlink" href="#reject-unknown-hosts" title="Permalink to this headline">¶</a></h3>
<p><strong>Default:</strong> <tt class="xref docutils literal"><span class="pre">False</span></tt></p>
<p>If <tt class="xref docutils literal"><span class="pre">True</span></tt>, the SSH layer will raise an exception when connecting to hosts not
listed in the user&#8217;s known-hosts file.</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="ssh.html"><em>SSH behavior</em></a></p>
</div>
</div>
<div class="section" id="roledefs">
<h3><tt class="docutils literal"><span class="pre">roledefs</span></tt><a class="headerlink" href="#roledefs" title="Permalink to this headline">¶</a></h3>
<p><strong>Default:</strong> <tt class="docutils literal"><span class="pre">{}</span></tt></p>
<p>Dictionary defining role name to host list mappings.</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="execution.html"><em>Execution model</em></a></p>
</div>
</div>
<div class="section" id="roles">
<span id="id14"></span><h3><tt class="docutils literal"><span class="pre">roles</span></tt><a class="headerlink" href="#roles" title="Permalink to this headline">¶</a></h3>
<p><strong>Default:</strong> <tt class="docutils literal"><span class="pre">[]</span></tt></p>
<p>The global role list used when composing per-task host lists.</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="execution.html"><em>Execution model</em></a></p>
</div>
</div>
<div class="section" id="shell">
<span id="id15"></span><h3><tt class="docutils literal"><span class="pre">shell</span></tt><a class="headerlink" href="#shell" title="Permalink to this headline">¶</a></h3>
<p><strong>Default:</strong> <tt class="docutils literal"><span class="pre">/bin/bash</span> <span class="pre">-l</span> <span class="pre">-c</span></tt></p>
<p>Value used as shell wrapper when executing commands with e.g.
<cite>~fabric.operations.run</cite>. Must be able to exist in the form <tt class="docutils literal"><span class="pre">&lt;env.shell&gt;</span>
<span class="pre">&quot;&lt;command</span> <span class="pre">goes</span> <span class="pre">here&gt;&quot;</span></tt> &#8211; e.g. the default uses Bash&#8217;s <tt class="docutils literal"><span class="pre">-c</span></tt> option which
takes a command string as its value.</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="execution.html"><em>Execution model</em></a></p>
</div>
</div>
<div class="section" id="sudo-prompt">
<h3><tt class="docutils literal"><span class="pre">sudo_prompt</span></tt><a class="headerlink" href="#sudo-prompt" title="Permalink to this headline">¶</a></h3>
<p><strong>Default:</strong> <tt class="docutils literal"><span class="pre">sudo</span> <span class="pre">password:</span></tt></p>
<p>Passed to the <tt class="docutils literal"><span class="pre">sudo</span></tt> program on remote systems so that Fabric may correctly
identify its password prompt. This may be modified by fabfiles but there&#8217;s no
real reason to.</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">The <cite>~fabric.operations.sudo</cite> operation</p>
</div>
</div>
<div class="section" id="use-shell">
<h3><tt class="docutils literal"><span class="pre">use_shell</span></tt><a class="headerlink" href="#use-shell" title="Permalink to this headline">¶</a></h3>
<p><strong>Default:</strong> <tt class="xref docutils literal"><span class="pre">True</span></tt></p>
<p>Global setting which acts like the <tt class="docutils literal"><span class="pre">use_shell</span></tt> argument to
<cite>~fabric.operations.run</cite>/<cite>~fabric.operations.sudo</cite>: if it is set to <tt class="xref docutils literal"><span class="pre">False</span></tt>,
operations will not wrap executed commands in <tt class="docutils literal"><span class="pre">env.shell</span></tt>.</p>
</div>
<div class="section" id="user">
<span id="id16"></span><h3><tt class="docutils literal"><span class="pre">user</span></tt><a class="headerlink" href="#user" title="Permalink to this headline">¶</a></h3>
<p><strong>Default:</strong> User&#8217;s local username</p>
<p>The username used by the SSH layer when connecting to remote hosts. May be set
globally, and will be used when not otherwise explicitly set in host strings.
However, when explicitly given in such a manner, this variable will be
temporarily overwritten with the current value &#8211; i.e. it will always display
the user currently being connected as.</p>
<p>To illustrate this, a fabfile:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">fabric.api</span> <span class="kn">import</span> <span class="n">env</span><span class="p">,</span> <span class="n">run</span>

<span class="n">env</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="s">&#39;implicit_user&#39;</span>
<span class="n">env</span><span class="o">.</span><span class="n">hosts</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;host1&#39;</span><span class="p">,</span> <span class="s">&#39;explicit_user@host2&#39;</span><span class="p">,</span> <span class="s">&#39;host3&#39;</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">print_user</span><span class="p">():</span>
    <span class="k">with</span> <span class="n">hide</span><span class="p">(</span><span class="s">&#39;running&#39;</span><span class="p">):</span>
        <span class="n">run</span><span class="p">(</span><span class="s">&#39;echo &quot;</span><span class="si">%(user)s</span><span class="s">&quot;&#39;</span> <span class="o">%</span> <span class="n">env</span><span class="p">)</span>
</pre></div>
</div>
<p>and its use:</p>
<div class="highlight-python"><pre>$ fab print_user

[host1] out: implicit_user
[explicit_user@host2] out: explicit_user
[host3] out: implicit_user

Done.
Disconnecting from host1... done.
Disconnecting from host2... done.
Disconnecting from host3... done.</pre>
</div>
<p>As you can see, during execution on <tt class="docutils literal"><span class="pre">host2</span></tt>, <tt class="docutils literal"><span class="pre">env.user</span></tt> was set to
<tt class="docutils literal"><span class="pre">&quot;explicit_user&quot;</span></tt>, but was restored to its previous value
(<tt class="docutils literal"><span class="pre">&quot;implicit_user&quot;</span></tt>) afterwards.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><tt class="docutils literal"><span class="pre">env.user</span></tt> is currently somewhat confusing (it&#8217;s used for configuration
<strong>and</strong> informational purposes) so expect this to change in the future &#8211;
the informational aspect will likely be broken out into a separate env
variable.</p>
</div>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="execution.html"><em>Execution model</em></a></p>
</div>
</div>
<div class="section" id="version">
<h3><tt class="docutils literal"><span class="pre">version</span></tt><a class="headerlink" href="#version" title="Permalink to this headline">¶</a></h3>
<p><strong>Default:</strong> current Fabric version string</p>
<p>Mostly for informational purposes. Modification is not recommended, but
probably won&#8217;t break anything either.</p>
</div>
<div class="section" id="warn-only">
<span id="id17"></span><h3><tt class="docutils literal"><span class="pre">warn_only</span></tt><a class="headerlink" href="#warn-only" title="Permalink to this headline">¶</a></h3>
<p><strong>Default:</strong> <tt class="xref docutils literal"><span class="pre">False</span></tt></p>
<p>Specifies whether or not to warn, instead of abort, when
<cite>~fabric.operations.run</cite>/<cite>~fabric.operations.sudo</cite>/<cite>~fabric.operations.local</cite>
encounter error conditions.</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="execution.html"><em>Execution model</em></a></p>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../../index.html">Ford challenge v1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Anders Hørsted.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>